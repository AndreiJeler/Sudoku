<div class="board sudoku--flex-column">
  <div
    class="row sudoku--flex"
    *ngFor="let row of board$ | async; let rowIndex = index"
  >
    <div
      class="cell sudoku--flex-centered"
      [ngClass]="{
        top: rowIndex % 3 === 0,
        bottom: rowIndex % 3 === 2,
        left: colIndex % 3 === 0,
        right: colIndex % 3 === 2,
        'highlighted-row': selectedRow === rowIndex,
        'highlighted-column': selectedCol === colIndex,
        active: selectedRow === rowIndex && selectedCol === colIndex,
        readonly: cell.isGenerated,
        solved: (isBoardSolved$ | async)
      }"
      disabled="cell.isGenerated"
      *ngFor="let cell of row; let colIndex = index"
      (click)="onCellClicked(rowIndex, colIndex)"
    >
      <input
        type="number"
        spellcheck="false"
        autocomplete="off"
        mask="0"
        [patterns]="customPatterns"
        class="cell-input"
        *ngIf="!cell.isGenerated; else generatedCell"
        (input)="onCellValueChange(rowIndex, colIndex, $event.target)"
      />
      <ng-template #generatedCell>
        <span class="cell-value"> {{ cell.value }}</span>
      </ng-template>
    </div>
  </div>
</div>
